name: My Panda CI
on:
  push:
    branches: [main]

jobs:
  builds:
    runs-on: ubuntu-latest
    name: My Build
    steps:
      - name: Check out code
        uses: actions/checkout@v2
      - name: Setup go
        uses: actions/setup-go@v2
      - name: Setup Go environment
        uses: actions/setup-go@v5.2.0
        with:
          # The Go version to download (if necessary) and use. Supports semver spec and ranges. Be sure to enclose this option in single quotation marks.
          go-version: 1.17.0

      - name: what is go version and run test
        run: |
          go version
          ls
          cd ./Activity1d_TestGoblin
          go test -cover

      - name: Checkout private repo remotely
        uses: actions/checkout@v2
        with:
          repository: EdythHo/sickandhiding
          path: edythfolder
          token: ${{secrets.EDYTH}}

      - name: Show hidden file
        run: |
          ls
          cd edythfolder
          ls
          cat README.md

      - name: Discord Message
        # You may pin to the exact commit or the version.
        # uses: discord-actions/message@5c7149c81a83146e5d01f142be1bf87a61831c4d
        uses: discord-actions/message@v2
        with:
          # A Discord webhook URL
          webhookUrl: https://discord.com/api/webhooks/1316956354786885673/TnLUfOQiSbcjinGjEXP44tQwVosbe8HGv_gviHMyIZYWbWlr4rcTYRDpNk24h2DO7pa5
          # A message to send to Discord
          message: hello 
          # A username for the message
          username: guesswho
          # Toke
          token: TnLUfOQiSbcjinGjEXP44tQwVosbe8HGv_gviHMyIZYWbWlr4rcTYRDpNk24h2DO7pa5
          # An avatar for the message
          # avatar: # optional
            
      # - name: discord-webhook
      # # You may pin to the exact commit or the version.
      # # uses: johnnyhuy/actions-discord-git-webhook@ba54912b26910da886c9095317d6da6182a87224
      #   uses: johnnyhuy/actions-discord-git-webhook@v1.0.0
      #   with:
      #     # Discord webhook URL
      #     webhook_url: https://discord.com/api/webhooks/1316956354786885673/TnLUfOQiSbcjinGjEXP44tQwVosbe8HGv_gviHMyIZYWbWlr4rcTYRDpNk24h2DO7pa5
      #     # Discord Webhook ID (ignored if `webhook_url` is set)
      #     # id: # optional
      #     # Discord Webhook token (ignored if `webhook_url` is set)
      #     token: TnLUfOQiSbcjinGjEXP44tQwVosbe8HGv_gviHMyIZYWbWlr4rcTYRDpNk24h2DO7pa5
      #     # Overwrite repository name with a custom one
      #     # repo_name: # optional
      #     # Hide the full GitHub username
      #     # censor_username: # optional
      #     # Toggle whether to show repo links on the webhook event
      #     # hide_links: # optiona
      #     # Color of the Discord embed
      #     # color: # optional, default is 7dbbe6
            
